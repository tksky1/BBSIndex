<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>mcbbs指数</title>
    </head>
    <body style="margin: 0">
        <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.1.0/echarts.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>

        <div style="background-color: #1f1f1f; width: 100%; height: 90px; margin: 0">
            <div style="height: 90px; float: left">
                <h1 style="color: white; text-align: left; margin-left: 16px"> BBS Index - mcbbs服务器指数</h1>
            </div>
        </div>



        <div style="width: 100%; height: 450px">
            <div style="height: 50px"></div>
            <div id="line1" style="width: 50%; height: 450px; float: left"></div>

            <!--    <div style="height: 30px"></div>-->
            <div id="line2" style="width: 50%; height: 450px; float: left"></div>
        </div>


        <script type="text/javascript">
            var lineDom1 = document.getElementById('line1');
            var lineChart1 = echarts.init(lineDom1);

            $(function () {
                $.get("http://localhost:8080/charts/chart1", function (data1) {
                    console.log(data1)

                    var option1 = {
                        tooltip: {
                            trigger: 'axis',
                            position: function (pt) {
                                return [pt[0], '10%'];
                            }
                        },
                        title: {
                            left: 'center',
                            text: 'mcbbs服务器版 -   服务器总数'
                        },
                        toolbox: {
                            feature: {
                                dataZoom: {
                                    yAxisIndex: 'none'
                                },
                                restore: {}
                            }
                        },
                        xAxis: {
                            type: 'category',
                            boundaryGap: false,
                            data: data1.xaxis
                        },
                        yAxis: {
                            type: 'value',
                            boundaryGap: [0, '50%'],
                            min: 800,
                            max: 1000
                        },
                        dataZoom: [
                            {
                                type: 'inside',
                                start: 0,
                                end: 100
                            }
                        ],
                        series: [
                            {
                                name: '服务器总数',
                                type: 'line',
                                symbol: 'none',
                                sampling: 'lttb',
                                itemStyle: {
                                    color: 'rgb(255, 70, 131)'
                                },
                                areaStyle: {
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                        {
                                            offset: 0,
                                            color: 'rgb(255, 158, 68)'
                                        },
                                        {
                                            offset: 1,
                                            color: 'rgb(255, 70, 131)'
                                        }
                                    ])
                                },
                                data: data1.series.data
                            }
                        ]
                    };

                    console.log(option1)
                    lineChart1.setOption(option1)
                })
            })

            var lineDom2 = document.getElementById('line2');
            var lineChart2 = echarts.init(lineDom2);

            $(function () {
                $.get("http://localhost:8080/charts/chart2", function (data2) {
                    console.log(data2)

                    var option2 = {
                        title: {
                            left: 'center',
                            text: '服务器指数（服务器增量/天）'
                        },
                        legend: {
                            data: ['服务器增量']
                        },
                        toolbox: {
                        },
                        tooltip: {},
                        xAxis: {
                            data: data2.xaxis,
                            splitLine: {
                                show: false
                            }
                        },
                        yAxis: {},
                        series: [
                            {
                                name: '服务器指数',
                                type: 'bar',
                                data: data2.series.data,
                                emphasis: {
                                    focus: 'series'
                                },
                                animationDelay: function (idx) {
                                    return idx * 10;
                                }
                            }
                        ],
                        animationEasing: 'elasticOut',
                        animationDelayUpdate: function (idx) {
                            return idx * 5;
                        }
                    };

                    console.log(option2)
                    lineChart2.setOption(option2)
                })
            })
        </script>


    </body>

    <!--
    <footer style="background-color: #dadada; bottom: 0; width: 100%">

        <div>
            <a href="https://beian.miit.gov.cn/" style="margin-left: 40%">©copyright mcyou.cn 滇ICP备2022005980号</a>
        </div>

    </footer>
    -->
</html>
